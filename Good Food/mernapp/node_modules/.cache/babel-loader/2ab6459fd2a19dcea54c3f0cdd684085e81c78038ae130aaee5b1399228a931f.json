{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/erman/Downloads/capstone project/Good Food/mernapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/erman/Downloads/capstone project/Good Food/mernapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/erman/Downloads/capstone project/Good Food/mernapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Footer from\"../components/Footer\";import Navbar from\"../components/Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyOrder(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),orderData=_useState2[0],setorderData=_useState2[1];var fetchMyOrder=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(localStorage.getItem(\"userEmail\"));_context2.next=3;return fetch(\"http://localhost:5000/api/auth/myOrderData\",{// credentials: 'include',\n// Origin:\"http://localhost:3000/login\",\nmethod:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:localStorage.getItem(\"userEmail\")})}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return res.json();case 2:response=_context.sent;_context.next=5;return setorderData(response);case 5:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 3:case\"end\":return _context2.stop();}},_callee2);}));return function fetchMyOrder(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchMyOrder();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:orderData!={}?Array(orderData).map(function(data){return data.orderData?data.orderData.order_data.slice(0).reverse().map(function(item){return item.map(function(arrayData){return/*#__PURE__*/_jsx(\"div\",{children:arrayData.Order_date?/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto mt-5\",children:[data=arrayData.Order_date,/*#__PURE__*/_jsx(\"hr\",{})]}):/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-3\",style:{width:\"16rem\",maxHeight:\"360px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:arrayData.img,className:\"card-img-top\",alt:\"...\",style:{height:\"120px\",objectFit:\"fill\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:arrayData.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100 p-0\",style:{height:\"38px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:arrayData.qty}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:arrayData.size}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:data}),/*#__PURE__*/_jsxs(\"div\",{className:\" d-inline ms-2 h-100 w-20 fs-5\",children:[\"\\u20B9\",arrayData.price,\"/-\"]})]})]})]})})});});}):\"\";}):\"\"})}),/*#__PURE__*/_jsx(Footer,{})]});}// {\"orderData\":{\"_id\":\"63024fd2be92d0469bd9e31a\",\"email\":\"mohanDas@gmail.com\",\"order_data\":[[[{\"id\":\"62ff20fbaed6a15f800125e9\",\"name\":\"Chicken Fried Rice\",\"qty\":\"4\",\"size\":\"half\",\"price\":520},{\"id\":\"62ff20fbaed6a15f800125ea\",\"name\":\"Veg Fried Rice\",\"qty\":\"4\",\"size\":\"half\",\"price\":440}],\"2022-08-21T15:31:30.239Z\"],[[{\"id\":\"62ff20fbaed6a15f800125f4\",\"name\":\"Mix Veg Pizza\",\"qty\":\"4\",\"size\":\"medium\",\"price\":800},{\"id\":\"62ff20fbaed6a15f800125f3\",\"name\":\"Chicken Doub;e Cheeze Pizza\",\"qty\":\"4\",\"size\":\"regular\",\"price\":480}],\"2022-08-21T15:32:38.861Z\"]],\"__v\":0}}","map":{"version":3,"names":["React","useEffect","useState","Footer","Navbar","jsx","_jsx","jsxs","_jsxs","MyOrder","_useState","_useState2","_slicedToArray","orderData","setorderData","fetchMyOrder","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","console","log","localStorage","getItem","fetch","method","headers","body","JSON","stringify","email","then","_ref2","_callee","res","response","_callee$","_context","json","sent","stop","_x","apply","arguments","children","className","Array","map","data","order_data","slice","reverse","item","arrayData","Order_date","style","width","maxHeight","src","img","alt","height","objectFit","name","qty","size","price"],"sources":["C:/Users/erman/Downloads/capstone project/Good Food/mernapp/src/screens/MyOrder.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nexport default function MyOrder() {\r\n  const [orderData, setorderData] = useState({});\r\n\r\n  const fetchMyOrder = async () => {\r\n    console.log(localStorage.getItem(\"userEmail\"));\r\n    await fetch(\"http://localhost:5000/api/auth/myOrderData\", {\r\n      // credentials: 'include',\r\n      // Origin:\"http://localhost:3000/login\",\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: localStorage.getItem(\"userEmail\"),\r\n      }),\r\n    }).then(async (res) => {\r\n      let response = await res.json();\r\n      await setorderData(response);\r\n    });\r\n\r\n    // await res.map((data)=>{\r\n    //    console.log(data)\r\n    // })\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMyOrder();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Navbar />\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {orderData != {}\r\n            ? Array(orderData).map((data) => {\r\n                return data.orderData\r\n                  ? data.orderData.order_data\r\n                      .slice(0)\r\n                      .reverse()\r\n                      .map((item) => {\r\n                        return item.map((arrayData) => {\r\n                          return (\r\n                            <div>\r\n                              {arrayData.Order_date ? (\r\n                                <div className=\"m-auto mt-5\">\r\n                                  {(data = arrayData.Order_date)}\r\n                                  <hr />\r\n                                </div>\r\n                              ) : (\r\n                                <div className=\"col-12 col-md-6 col-lg-3\">\r\n                                  <div\r\n                                    className=\"card mt-3\"\r\n                                    style={{\r\n                                      width: \"16rem\",\r\n                                      maxHeight: \"360px\",\r\n                                    }}\r\n                                  >\r\n                                    <img\r\n                                      src={arrayData.img}\r\n                                      className=\"card-img-top\"\r\n                                      alt=\"...\"\r\n                                      style={{\r\n                                        height: \"120px\",\r\n                                        objectFit: \"fill\",\r\n                                      }}\r\n                                    />\r\n                                    <div className=\"card-body\">\r\n                                      <h5 className=\"card-title\">\r\n                                        {arrayData.name}\r\n                                      </h5>\r\n                                      <div\r\n                                        className=\"container w-100 p-0\"\r\n                                        style={{ height: \"38px\" }}\r\n                                      >\r\n                                        <span className=\"m-1\">\r\n                                          {arrayData.qty}\r\n                                        </span>\r\n                                        <span className=\"m-1\">\r\n                                          {arrayData.size}\r\n                                        </span>\r\n                                        <span className=\"m-1\">{data}</span>\r\n                                        <div className=\" d-inline ms-2 h-100 w-20 fs-5\">\r\n                                          â‚¹{arrayData.price}/-\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      })\r\n                  : \"\";\r\n              })\r\n            : \"\"}\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n// {\"orderData\":{\"_id\":\"63024fd2be92d0469bd9e31a\",\"email\":\"mohanDas@gmail.com\",\"order_data\":[[[{\"id\":\"62ff20fbaed6a15f800125e9\",\"name\":\"Chicken Fried Rice\",\"qty\":\"4\",\"size\":\"half\",\"price\":520},{\"id\":\"62ff20fbaed6a15f800125ea\",\"name\":\"Veg Fried Rice\",\"qty\":\"4\",\"size\":\"half\",\"price\":440}],\"2022-08-21T15:31:30.239Z\"],[[{\"id\":\"62ff20fbaed6a15f800125f4\",\"name\":\"Mix Veg Pizza\",\"qty\":\"4\",\"size\":\"medium\",\"price\":800},{\"id\":\"62ff20fbaed6a15f800125f3\",\"name\":\"Chicken Doub;e Cheeze Pizza\",\"qty\":\"4\",\"size\":\"regular\",\"price\":480}],\"2022-08-21T15:32:38.861Z\"]],\"__v\":0}}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}