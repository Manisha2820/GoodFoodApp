{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/erman/Downloads/capstone project/Good Food/mernapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/erman/Downloads/capstone project/Good Food/mernapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import Delete from\"@mui/icons-material/Delete\";import{useCart,useDispatchCart}from\"../components/ContextReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){var data=useCart();var dispatch=useDispatchCart();if(data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"m-5 w-100 text-center fs-3\",children:\"The Cart is Empty!\"})});}// const handleRemove = (index)=>{\n//   console.log(index)\n//   dispatch({type:\"REMOVE\",index:index})\n// }\nvar handleCheckOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userEmail,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userEmail=localStorage.getItem(\"userEmail\");// console.log(data,localStorage.getItem(\"userEmail\"),new Date())\n_context.next=3;return fetch(\"http://localhost:5000/api/auth/orderData\",{// credentials: 'include',\n// Origin:\"http://localhost:3000/login\",\nmethod:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({order_data:data,email:userEmail,order_date:new Date().toDateString()})});case 3:response=_context.sent;console.log(\"JSON RESPONSE:::::\",response.status);if(response.status===200){dispatch({type:\"DROP\"});}case 6:case\"end\":return _context.stop();}},_callee);}));return function handleCheckOut(){return _ref.apply(this,arguments);};}();var totalPrice=data.reduce(function(total,food){return total+food.price;},0);return/*#__PURE__*/_jsxs(\"div\",{children:[console.log(data),/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\" text-success fs-4\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Option\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(food,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:food.name}),/*#__PURE__*/_jsx(\"td\",{children:food.qty}),/*#__PURE__*/_jsx(\"td\",{children:food.size}),/*#__PURE__*/_jsx(\"td\",{children:food.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn p-0\",children:/*#__PURE__*/_jsx(Delete,{onClick:function onClick(){dispatch({type:\"REMOVE\",index:index});}})}),\" \"]})]});})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"fs-2\",children:[\"Total Price: \",totalPrice,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn bg-success mt-5 \",onClick:handleCheckOut,children:[\" \",\"Check Out\",\" \"]})})]})]});}","map":{"version":3,"names":["React","Delete","useCart","useDispatchCart","jsx","_jsx","jsxs","_jsxs","Cart","data","dispatch","length","children","className","handleCheckOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userEmail","response","wrap","_callee$","_context","prev","next","localStorage","getItem","fetch","method","headers","body","JSON","stringify","order_data","email","order_date","Date","toDateString","sent","console","log","status","type","stop","apply","arguments","totalPrice","reduce","total","food","price","scope","map","index","name","qty","size","onClick"],"sources":["C:/Users/erman/Downloads/capstone project/Good Food/mernapp/src/screens/Cart.js"],"sourcesContent":["import React from \"react\";\r\nimport Delete from \"@mui/icons-material/Delete\";\r\nimport { useCart, useDispatchCart } from \"../components/ContextReducer\";\r\nexport default function Cart() {\r\n  let data = useCart();\r\n  let dispatch = useDispatchCart();\r\n  if (data.length === 0) {\r\n    return (\r\n      <div>\r\n        <div className=\"m-5 w-100 text-center fs-3\">The Cart is Empty!</div>\r\n      </div>\r\n    );\r\n  }\r\n  // const handleRemove = (index)=>{\r\n  //   console.log(index)\r\n  //   dispatch({type:\"REMOVE\",index:index})\r\n  // }\r\n\r\n  const handleCheckOut = async () => {\r\n    let userEmail = localStorage.getItem(\"userEmail\");\r\n    // console.log(data,localStorage.getItem(\"userEmail\"),new Date())\r\n    let response = await fetch(\"http://localhost:5000/api/auth/orderData\", {\r\n      // credentials: 'include',\r\n      // Origin:\"http://localhost:3000/login\",\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        order_data: data,\r\n        email: userEmail,\r\n        order_date: new Date().toDateString(),\r\n      }),\r\n    });\r\n    console.log(\"JSON RESPONSE:::::\", response.status);\r\n    if (response.status === 200) {\r\n      dispatch({ type: \"DROP\" });\r\n    }\r\n  };\r\n\r\n  let totalPrice = data.reduce((total, food) => total + food.price, 0);\r\n  return (\r\n    <div>\r\n      {console.log(data)}\r\n      <div className=\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md\">\r\n        <table className=\"table table-hover \">\r\n          <thead className=\" text-success fs-4\">\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Quantity</th>\r\n              <th scope=\"col\">Option</th>\r\n              <th scope=\"col\">Amount</th>\r\n              <th scope=\"col\"></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((food, index) => (\r\n              <tr>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>{food.name}</td>\r\n                <td>{food.qty}</td>\r\n                <td>{food.size}</td>\r\n                <td>{food.price}</td>\r\n                <td>\r\n                  <button type=\"button\" className=\"btn p-0\">\r\n                    <Delete\r\n                      onClick={() => {\r\n                        dispatch({ type: \"REMOVE\", index: index });\r\n                      }}\r\n                    />\r\n                  </button>{\" \"}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <div>\r\n          <h1 className=\"fs-2\">Total Price: {totalPrice}/-</h1>\r\n        </div>\r\n        <div>\r\n          <button className=\"btn bg-success mt-5 \" onClick={handleCheckOut}>\r\n            {\" \"}\r\n            Check Out{\" \"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}